<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" sizes = "32x32" href="/static/img/favicon.ico"/>
    <title>자료구조 05. 데이터 베이스 & MYSQL - 대구 올빼미의 새벽 개발로그</title>
    <meta name="author" content="Byeonguk Kim" />
    <meta name="description" content="자료구조 05. 데이터 베이스 & MYSQL" />
    <meta name="keywords" content="자료구조 05. 데이터 베이스 & MYSQL, 대구 올빼미의 새벽 개발로그, 자료구조" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="1749788565247320" property="fb:app_id">
    <meta content="대구 올빼미의 새벽 개발로그" property="og:site_name">

    

    
      <meta content="자료구조 05. 데이터 베이스 & MYSQL" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="데이터베이스와 MYSQL에 대해서" property="og:description">
    

    
      <meta content="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/04/09/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-05.-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B2%A0%EC%9D%B4%EC%8A%A4-&-MYSQL.html" property="og:url">
    

    
      <meta content="2019-04-09T23:06:23+09:00" property="article:published_time">
      <meta content="http://localhost:4000/about/" property="article:author">
    

    
      <meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image">
    

    
      
        <meta content="자료구조" property="article:section">
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@github.io">
    <meta name="twitter:creator" content="@github.io">

    
      <meta name="twitter:title" content="자료구조 05. 데이터 베이스 & MYSQL">
    

    
      <meta name="twitter:url" content="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/04/09/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-05.-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B2%A0%EC%9D%B4%EC%8A%A4-&-MYSQL.html">
    

    
      <meta name="twitter:description" content="데이터베이스와 MYSQL에 대해서">
    

    

    <!-- Font awesome icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="120px" width="120px" /></a>
          <h1 class="author-name">Byeonguk Kim</h1>
          
            <div class="profile-about">
              <h5>안녕하세요. 29살의 조금은 늦은 나이로 새롭게 개발자로 시작하는 신입 개발자입니다.</h5>
            </div>
          
          <div class="social">
            <ul>
              
                <li><a href="https://web.facebook.com/byungwook.kim.923" target="_blank"><i class="fa fa-facebook"></i></a></li>
              
                <li><a href="#" target="_blank"><i class="fa fa-twitter"></i></a></li>
              
                <li><a href="#" target="_blank"><i class="fa fa-linkedin"></i></a></li>
              
                <li><a href="#" target="_blank"><i class="fa fa-stack-exchange"></i></a></li>
              
                <li><a href="https://github.com/fabl1106" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <div class="search" id="js-search">
            <input type="text" placeholder="(sitemap)~$ type to search" class="search__input form-control" id="js-search__input">
            <ul class="search__results" id="js-search__results"></ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="/">Home</a></li>
            
              <li><a class="about" href="/about/">About Me</a></li>
            
              <li><a class="about" href="/projects/">My Projects</a></li>
            
              <li><a class="about" href="/feed.xml">XML Feed</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <header class="post-header">
  <h1 class="post-title">자료구조 05. 데이터 베이스 & MYSQL</h1>
</header>

<span class="time">09 Apr 2019</span>

  <span class="categories">
    &raquo; <a href="/category/자료구조">자료구조</a>
  </span>


<div class="content">
  <div class="post"><h3 id="20190409-til">2019.04.09 TIL</h3>

<p>(TIL은 스스로 이해한 것을 바탕으로 정리한 것으로 오류가 있을 수 있습니다)</p>

<p># 질문에 답하기</p>

<ol>
  <li></li>
</ol>

<h1 id="데이터-베이스">데이터 베이스</h1>

<p>mysql은 관계형 데이터 베이스이다.
관계형 데이터 베이스 시스템들은 SQL 문법을 사용한다.</p>

<ul>
  <li>nosql : 빅데이터와 같이 큰 데이터가 늘어나면서 관계형 데이터가 한계가 있다고 생각</li>
</ul>

<h2 id="database-server">DATABASE SERVER</h2>

<p>server이기 때문에 앞으로 들어나지 않는다.
database server밑에서 여러개의 database가 있을 수 있고
database 밑에서는 여러개의 table이 있다.
그 안에 DATABASE가 있다.</p>

<p>database</p>

<ol>
  <li>oracle이 1위 회사이다.</li>
  <li>중소기업은 mysql —&gt; php와 너무 잘 맞다. APM(apach, php, mysql)</li>
  <li>MariaDB 
django</li>
  <li>postgreSQL —&gt; open source</li>
</ol>

<p>database는 table이라는 것을 카테고라이징 한 것이다.</p>

<ul>
  <li>table은 entity 혹은 relation이라고 부른다.</li>
  <li>열은 column 혹은 field라고 부른다.</li>
  <li>행은 row 혹은 tuple이라고 부른다.(파이썬의 자료형 tuple과 동일하다)</li>
  <li>또한 이 row 한 줄을 recode라고 한다.</li>
  <li>레코드는 구체적인 데이터를 이야기한다.</li>
</ul>

<h3 id="기본적으로-행과-열을-통해서-데이터베이스에-접근한다">기본적으로 행과 열을 통해서 데이터베이스에 접근한다.</h3>

<h2 id="database-client">DATABASE CLIENT</h2>

<p>mysql-client
phpmyadmin
mysql query browser
navicat</p>

<ul>
  <li>참고사항</li>
  <li>utf-8 mb4 (unicode utf-8)의 의미
    <ul>
      <li>a,b,c —&gt; 1byte</li>
      <li>한글 —&gt; 3byte</li>
      <li>어차피 3바이트까지 하면 되는데 굳이 4바이트까지 써야하나?</li>
      <li>따라서 자체적으로 3바이트로 만들었는데</li>
      <li>이모티콘이 나오면서 4바이트로 바꿈(utf-8 mb4)</li>
    </ul>
  </li>
</ul>

<h2 id="시작하기">시작하기</h2>

<p>students</p>

<ul>
  <li>student ID - int, primary key(테이블에서 오직 하나)</li>
  <li>height</li>
  <li>score</li>
  <li>birthday</li>
  <li>class ID - int, NULL</li>
</ul>

<p>teacher</p>

<ul>
  <li>teacher - int, primary key</li>
  <li>subject - varchar(가변)/ not null</li>
  <li>class id - int, NULL</li>
</ul>

<h3 id="server-start">server start</h3>

<p>mysql.server start
mysql -u root</p>

<ul>
  <li>mysql -u root  ===&gt; connection이 연결 TCP 연결(socket으로 연결이 둟린 것이다.)</li>
  <li>이것을 session이라고 한다. TCP 연결을 했다.</li>
  <li>client는 여려명일 수 있다. john, greg 등</li>
  <li>쓰레드의 가장 큰 문제점 : 레이스 컨디션
    <ul>
      <li>여러명이 접속하게 되면 table이 shared resource가 된다. (공유자원)</li>
      <li>updata문을 통해서 balance 값을 5000원에서 3000원으로 바꾸면서 끊김</li>
      <li>무결점을 보장해줘야한다.</li>
      <li>그렇기 때문에 session을 연 다음에 update를 하는 순간 그 쓰레드에 대해서만 복사해서 준다.</li>
      <li>트랜젝션을 업데이트를 한 다음에 commit을 통해 트랜젝션을 끝내고 데이터 베이스를 바꿈.</li>
      <li>commit전에는 절대 데이터 베이스는 바뀌지 않는다. 무결성</li>
      <li>트랜젝션과 세션의 차이를 잘 알아야 한다.</li>
      <li><a href="https://books.google.co.kr/books?id=-mp0DwAAQBAJ&amp;pg=PA290&amp;lpg=PA290&amp;dq=%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC+%EC%84%B8%EC%85%98&amp;source=bl&amp;ots=DTiZRpADIB&amp;sig=ACfU3U2S1uYOtg0yxfIBuevMT8Yke0E13g&amp;hl=ko&amp;sa=X&amp;ved=2ahUKEwj4qaPWgsPhAhVHzbwKHcwbAYIQ6AEwBnoECAgQAQ#v=onepage&amp;q=%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC%20%EC%84%B8%EC%85%98&amp;f=false">Do it! 오라클로 배우는 데이터베이스 입문 - 이지훈 - Google 도서</a></li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="유저확인">유저확인</h3>

<p>SELECT USER, HOST FROM USERS;</p>

<hr />

<h3 id="유저-생성-및-비밀번호-설정">유저 생성 및 비밀번호 설정</h3>

<p>CREATE USER “byeonguk”@“localhost” IDENTIFIED BY “1234”;</p>

<hr />

<h3 id="권한-주기">권한 주기</h3>

<p>GRANT ALL PRIVILEGES ON *.* TO “byeonguk”@”localhost” with grant option;</p>

<hr />

<h3 id="권한-적용">권한 적용</h3>

<p>FLUSH privileges</p>

<hr />

<h3 id="권한-확인">권한 확인</h3>

<p>SELECT USER, HOST, SUPER_PRIV FROM MySQL.USER;</p>

<hr />

<h3 id="데이터-삭제-혹은-테이블-삭제">데이터 삭제 혹은 테이블 삭제</h3>

<p>DROP DATABASE mydb;      <br />
DROP TABLE 테이블명</p>

<hr />

<h3 id="테이블에-대한-정보-확인">테이블에 대한 정보 확인</h3>

<p>SHOW tables</p>

<ul>
  <li>테이블 리스트 확인
SHOW CREATE table “테이블 명”</li>
  <li>해당 테이블에 대한 정보
DESC “테이블 명”;</li>
  <li>해당 테이블 스키마 열람</li>
  <li>스키마란 : 테이블에 적재될 데이터의 구조와 형식을 정의 하는 것
SELECT * FROM “테이블명”</li>
  <li>우리가 찾던 그 정보확인</li>
</ul>

<hr />

<h3 id="테이블-생성">테이블 생성</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE students(
-&gt; student ID INT AUTO_INCREMENT, 
-&gt; studentName VARCHAR(20)  #학생의 이름이 20바이트까지 가능
-&gt; height SMALLINT DEFAULT 200,
-&gt; score, SMALLINT NULL,
-&gt; birtyday DATE NOT NULL,
-&gt; classID INT NULL,
-&gt; PRIMARY KEY(studentID),                    # 오직 한개만 있다
-&gt; FOREIGN KEY(classID), REFERENCES classes(classID) 
</code></pre></div></div>

<ul>
  <li>classID라는 외래키 참조하는데 classes 열에서 classID를 참조한다.</li>
  <li>잘못되었을 때 \c를 하면 빠져나올 수 있다.</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE teachers (
-&gt;teacherID INT AUTO_INCREMENT NOT NULL,
-&gt;subject VARCHAR(30) UNIQUE,
-&gt;classID INT NULL,
-&gt;PRIMARY KEY(teacherID),
-&gt;CONSTRAINT fk_classID
-&gt;FOREIGN KEY (clastsID) REFERENCES classes (classID)
);
</code></pre></div></div>
<hr />

<h3 id="데이터-삽입">데이터 삽입</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INSERT INTO students 
-&gt; (studentName, height, scores, birthday, classID)
-&gt; VALUES
-&gt; (‘GREG’, 180, 87, ‘2002-3-23’, 1)
</code></pre></div></div>
<hr />

<h3 id="칼럼열더하기">칼럼(열)더하기</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DESC teacher;        #직관적으로 현 상황을 볼 수 있음

ALTER TABLE teachers
-&gt; ADD COLUMN teacherName ;

SHOW CREATE TABLE teacher;          #해당 테이블에 대한 정보 제공(create할 때의 정보)
</code></pre></div></div>
<hr />

<h3 id="백업하기">백업하기</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysqldump -u root -p —databases 
mydb &gt; mydb1.sql
#mydb1.sql이 생김

</code></pre></div></div>

<hr />

<h3 id="카피하기">카피하기</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE student_cp
-&gt; (SELECT * FROM students); 

SELECT * FROM student_cp  #잘 복사되었는지 확인
</code></pre></div></div>

<hr />

<h3 id="데이터-업데이트하기">데이터 업데이트하기</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATA student_cp
-&gt; SET score = 100
-&gt; WHERE studentName = ‘Mary’;             #Mary를 해주지 않으면 전부 다 100으로
</code></pre></div></div>
<hr />

<h3 id="메리-점수만-확인하기">메리 점수만 확인하기</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT studentName, score FROM student_cp
-&gt;WHERE studentName like ‘Mary’;
# WHERE studentName like "Ma%"; 
# %는 어떤 글자든지 다 소화시켜준다.
</code></pre></div></div>

<hr />

<h3 id="데이터-베이스에-조건문-넣기-50점-이상-70점-이하-점수-보기">데이터 베이스에 조건문 넣기 (50점 이상 70점 이하 점수 보기)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT studentName, score
-&gt; FROM student_cp
-&gt; WHERE score &gt; 50 and score &lt; 70
</code></pre></div></div>

<hr />

<h3 id="특정-데이터-지우기">특정 데이터 지우기</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Delete from student_cp
-&gt; WHERE studentName like “Mary’;

SELECT * FROM student_cp (확인)
</code></pre></div></div>

<hr />

<h3 id="foreinkey-없애기">foreinkey 없애기</h3>

<p>foreinkey를 없애려면
자동으로 인덱스를 잡기 때문에</p>

<p>폴인키 제약조건을 없앤 다음에 쇼 인덱스를 해준 다음에 잡혀있는 인덱스를 없애준다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1)
ALTER TABLE teachers
-&gt; DROP FOREIGN KEY teachers;

2)
DROP INDEX classID
-&gt; ON teachers;

SHOW CREATE TABLE teachers      #확인
</code></pre></div></div>
<hr />

<h2 id="join">JOIN</h2>

<p><img width="785" alt="innerouter" src="https://user-images.githubusercontent.com/46436843/55801437-0c460d80-5b11-11e9-8b1c-1a6a9ad186bd.png" /></p>

<p>join은 테이블을 가로로 연결할 때 쓴다.</p>

<ul>
  <li>inner join</li>
  <li>outer join
    <ul>
      <li>left outer join</li>
      <li>right outer join</li>
      <li>full outer join
        <ul>
          <li>mysql, mariadb는 full outer을 지원하지 않는다.</li>
          <li>필요할 때 union을 통해 구현한다.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><a href="http://blog.naver.com/PostView.nhn?blogId=parkjy76&amp;logNo=220784188333&amp;parentCategoryNo=&amp;categoryNo=66&amp;viewDate=&amp;isShowPopularPosts=true&amp;from=search">MySQL full outer join : 네이버 블로그</a></p>

<hr />

<h3 id="inner-join">INNER JOIN</h3>

<p>ex) join 예시
student name / score / class id / teacher name / subject
 ==&gt; class id로 묶는다.( class id에 대한 교집합)</p>

<p>NULL을 어떻게 처리할 것인가?</p>

<ul>
  <li>inner은 빠진다.</li>
</ul>

<p>if select studentname, classid, teacher 이렇게 하면 classid가 누구것인지 알수가 없다.</p>

<p>S.를 붙여 student 표현 T.를 붙여 teacher 을 표현</p>

<ul>
  <li>적용 방법
    <ul>
      <li>SELECT S.studentsName,S.score, S.classID, T.teacherName, T.subject</li>
      <li>FROM students S INNER JOIN teachers T  (student가 left teacher가 right)</li>
      <li>ON S.classID = T.classID</li>
      <li>ORDER BY S.classID</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="left-outer-join--왼쪽에-위치한-집합은-다-나온다">LEFT OUTER JOIN ( 왼쪽에 위치한 집합은 다 나온다.)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT S.studentName, S.score, S.classID,
    -&gt; T.teacherName, T.subject
    -&gt; FROM students S LEFT OUTER JOIN teachers T
    -&gt; ON S.classID = T.classID
</code></pre></div></div>

<hr />

<h3 id="right-outer-join-오른쪽에-위치한-집합은-다-나온다">RIGHT OUTER JOIN (오른쪽에 위치한 집합은 다 나온다.)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT S.studentName, S.score, S.classID
    -&gt; T.teacherName, T.subject
    -&gt; FROM students S RIGHT OUTER JOIN teachers T
    -&gt; ON S.classID = T.classID;
</code></pre></div></div>

<hr />

<h3 id="full-outer-join">FULL OUTER JOIN</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT S.studentName, S.score, S.classID
    -&gt; T.teacherName, T.subject
    -&gt; FROM students S LEFT OUTER JOIN teachers T
    -&gt; ON S.classID = T.classID
    -&gt; UNION
    -&gt; SELECT S.studentName, S.score, S.classID
    -&gt; T.teacherName, T.subject
    -&gt; FROM students S RIGHT OUTER JOIN teachers T
    -&gt; ON S.classID = T.classID;
</code></pre></div></div>

<hr />

<h3 id="group-by">GROUP BY</h3>

<ul>
  <li>전체 평균
    <ul>
      <li>SELECT AVG(score) FROM students;</li>
    </ul>
  </li>
  <li>반별로 평균을 알고 싶다.
    <ul>
      <li>SELECT classID, AVG(score)</li>
      <li>-&gt; FROM students</li>
      <li>-&gt; GROUP BY classID</li>
    </ul>
  </li>
  <li>만약에 반 배정 안 받는 애들은 빼고 싶다.
    <ul>
      <li>SELECT classID, AVG(score)</li>
      <li>-&gt; FROM students</li>
      <li>-&gt; WHERE classID IS NOT NULL</li>
      <li>-&gt; GROUP BY classID;</li>
    </ul>
  </li>
  <li>평균 65점 이상인 반을 본다.
    <ul>
      <li>SELECT classID, AVG(score)</li>
      <li>-&gt; FROM students</li>
      <li>-&gt; WHERE classID IS NOT NULL</li>
      <li>-&gt; GROUP BY classID</li>
      <li>-&gt; HAVING AVG(scores) &gt; 65;</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="where-와-group-by-having">WHERE 와 GROUP BY, HAVING</h3>

<p>WHERE와 ==&gt; 그룹을 하기 전에 조건절 수행      <br />
GROUP BY       <br />
HAVING의 차이 ==&gt; 이미 그룹바이로 그룹이 끝난 이후에 조건절 수행(반듯이 그룹을 한 것에 대해서만 조건절을 수행한다)</p>

<hr />

<h2 id="m--n">M : N</h2>

<ul>
  <li>
    <p>INNER JOIN을 2개 사용한다.
ex) Student와 subject와의 관계</p>
  </li>
  <li>
    <p>VARCHAR 와 CHAR의 차이 : 비트를 고정해줄 것인가? 아니면 유동적으로 할 것이냐?</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE subjects(
    -&gt; subjectName CHAR(20) UNIQUE NOT NULL,     #unique not null은 프라이머리 key가 없으면 생성한다.
    -&gt; roomNum TINYINT NOT NULL);
INSERT INTO subjects 
(subjectName, roomNum) 
VALUES ('math', 101), ('literature', 105), 
('science', 107), ('english', 110), ('ethics', 111);
</code></pre></div></div>

<hr />

<h3 id="학생-입장에서-subject-name--강의실-번호까지">학생 입장에서 subject name + 강의실 번호까지</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sql&gt; SELECT ST.studentName, ST.score, 
SB.subjectName, SB.roomNum
FROM students ST INNER JOIN student_subject SS
ON ST.studentName=SS.studentName
INNER JOIN subjects SB
ON SS.subjectName=SB.subjectName
ORDER BY ST.studentName;
</code></pre></div></div>

<hr />

<h3 id="과목-입장에서-배열">과목 입장에서 배열</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sql&gt; SELECT SB.subjectName, SB.roomNum, 
ST.studentName, ST.score 
FROM students ST INNER JOIN student_subject SS 
ON ST.studentName=SS.studentName 
INNER JOIN subjects SB 
ON SS.subjectName=SB.subjectName 
ORDER BY SB.subjectName;
</code></pre></div></div>

<p>SELECT의 순서가 바뀌는 것은 크게 의미가 없고
마지막에 ORDER BY에 따라서 정렬 순서를 정해준다.</p>

<hr />

<h2 id="sql">SQL</h2>

<ul>
  <li>VIEW</li>
  <li>INDEX
    <ul>
      <li>CLUSTERED INDEX</li>
      <li>SECONDARY INDEX</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="view">VIEW</h3>
<p>VIEW는 select문이다.   <br />
view를 마치 테이블처럼 사용한다.</p>

<ol>
  <li>view는 select문일 뿐이지 테이블이 새로 만들어지는 것이 아니다.</li>
  <li>가독성이 높아진다.</li>
  <li>보안문제 해결</li>
</ol>

<p>ex) 쇼핑몰   <br />
customer / 생년 월일 /</p>

<ul>
  <li>알바생에서 customer 테이블을 그대로 보여주면 안되니깐 view(생년월일이 없는)를 하나 만들고 권한을 부여(GRANT)</li>
</ul>

<hr />

<h4 id="create-view">CREATE VIEW</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE VIEW view_st_sb_join 
AS 
SELECT ST.studentName, ST.score,
SB.subjectName, SB.roomNum  
FROM students ST INNER JOIN student_subject SS 
ON ST.studentName=SS.studentName 
INNER JOIN subjects SB 
ON SS.subjectName=SB.subjectName 
ORDER BY ST.studentName;
</code></pre></div></div>
<hr />

<h4 id="where-적용-가능">WHERE 적용 가능</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM view_st_sb_join;

sql&gt; SELECT * FROM view_st_sb_join 
WHERE score BETWEEN 50 AND 70;
</code></pre></div></div>

<hr />

<h4 id="drop-view-적용-가능">DROP VIEW 적용 가능</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DROP VIEW view_st_sb_join;
</code></pre></div></div>
<hr />

<h3 id="index">INDEX</h3>

<p>index를 쓰는 이유 &lt;– 데이터 검색</p>

<p>Tree BST –&gt; o(log n)   <br />
단점 보완 -&gt; red - black - tree (균형 이진 트리)  추가  단점 보완 =&gt; B-tree</p>

<ul>
  <li>CLUSTERED INDEX
    <ul>
      <li>한 테이블마다 1개씩만 존재한다.</li>
      <li>데이터 자체를 클러스트 인덱스에 맞추어서 정렬한다.</li>
      <li>primary key가 클러스트 인덱스가 된다.</li>
      <li>primary key를 안 잡고 데이터를 넣은 뒤 primary key를 잡으면 나중에 굉장히 정렬하는 시간이 오래 걸릴 수 있다. ==&gt; 항상 미리 잡고 시작하자.</li>
    </ul>
  </li>
  <li>SECONDARY INDEX
    <ul>
      <li>원하는만큼 붙일 수 있다.</li>
      <li>B-트리라는 자료구조를 만들고 실제 데이터를 참조해서 만든다.
        <ul>
          <li>where 에 쓰인다. ex) where classID = 3</li>
          <li>secondary index를 언제만드냐?
            <ul>
              <li>where가 자주 쓰일 때 만들어 놓으면 search를 할 때 secondary index를 활용하여 서치</li>
              <li>쓰는 이유 : 검색 속도가 엄청나게 빨라진다.</li>
              <li>단점 : 테이블에 대해 insert를 계속하고 업데이트를 계속한다고 하면 계속 B-tree도 업데이트 시켜줘야하고, 수정, 삽입 등이 많이 늘어나면 페이지 분할이 일어나서 속도가 늦어질 수 있다.</li>
              <li>where을 내가 얼마나 쓸 것인지 파악하고, 내가 수정 삽입 등을 얼마나 할 것인지 고민</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>CREATE INDEX는 secondary index만 만들 수 있다.</li>
      <li>cluster  int를 만들기 위해서는 ALTER TABLE이라는 커맨드를 써야한다.</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="참고사항">참고사항</h4>

<p>내부 스키마 외부 스키마 개념 스키마
<a href="https://coding-factory.tistory.com/216">[DB기초] 스키마란 무엇인가?</a></p>
</div>
  <div class="share-page">
  <span style="float: left;">Share this on &rarr;&nbsp;&nbsp;</span>

  <!-- Twitter -->
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="github.io">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <!-- Facebook -->
  <div class="fb-share-button" data-href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/04/09/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-05.-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B2%A0%EC%9D%B4%EC%8A%A4-&-MYSQL.html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=1749788565247320";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

</div>


  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
            <div class="panel-body">
              <h4>Related Posts</h4>
              <ul>
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/04/12/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-06.-%EC%84%A0%ED%98%95%EA%B5%AC%EC%A1%B0,-%EB%B9%84%EC%84%A0%ED%98%95%EA%B5%AC%EC%A1%B0.html">자료구조 06. 선형구조, 비선형구조</a>
                  
                    (Categories: <a href="/category/자료구조">자료구조</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/04/01/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-04.-linked_list.html">자료구조 04. linked_list</a>
                  
                    (Categories: <a href="/category/자료구조">자료구조</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/03/28/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-03.-Stack%EC%9C%BC%EB%A1%9C-Queue%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0.html">자료구조 03. Stack으로 Queue구현하기</a>
                  
                    (Categories: <a href="/category/자료구조">자료구조</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/03/14/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-02.-Stack%EA%B3%BC-queue.html">자료구조 02. Stack과 queue</a>
                  
                    (Categories: <a href="/category/자료구조">자료구조</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
            
                <li class="relatedPost">
                  <a href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2019/03/11/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0-01.-linear_search,-binary_search.html">자료구조 01. linear_search, binary_search</a>
                  
                    (Categories: <a href="/category/자료구조">자료구조</a>)
                  
                </li>
          
          
        
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
    
      
        
          
      
    
  
  
  </ul>
</div>


<div class="PageNavigation">
  
    <a class="prev" href="/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B3%B5%ED%95%99/2019/04/06/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B3%B5%ED%95%99-13.-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%EC%9D%98-%ED%81%B0-%EA%B7%B8%EB%A6%BC.html">&laquo; 컴퓨터공학 13. 네트워크의 큰 그림</a>
  
  
    <a class="next" href="/git/2019/04/10/GIT-02.-GIT-%EB%B8%8C%EB%9E%9C%EC%B9%98.html">GIT 02. GIT 브랜치 &raquo;</a>
  
</div>

<div class="disqus-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* <![CDATA[ */
    var disqus_shortname = "https-fabl1106-github-io";
    var disqus_identifier = "http://localhost:4000_자료구조 05. 데이터 베이스 & MYSQL";
    var disqus_title = "자료구조 05. 데이터 베이스 & MYSQL";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    /* ]]> */
  </script>
</div>

        <footer>
          &copy; Byeonguk Kim
          
            - <a href="https://github.com/fabl1106">https://github.com/fabl1106</a> - Powered by Jekyll.
          
          <div class="btn-github" style="float:right;">
            <iframe src="https://ghbtns.com/github-btn.html?user=fabl1106&repo=fabl1106.github.io&type=star&count=true" frameborder="0" scrolling="0" width="85" height="20px"></iframe>
            <iframe src="https://ghbtns.com/github-btn.html?user=fabl1106&repo=fabl1106.github.io&type=fork&count=true" frameborder="0" scrolling="0" width="85" height="20px"></iframe>
          </div>
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
  </body>
</html>

